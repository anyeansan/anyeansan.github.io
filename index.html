<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/anyeansan.github.io/images/an-apple-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/anyeansan.github.io/images/an-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/anyeansan.github.io/images/an-16.png">
  <link rel="mask-icon" href="/anyeansan.github.io/images/an.svg" color="#222">
  <link rel="alternate" href="/anyeansan.github.io/atom.xml" title="安₃" type="application/atom+xml">

<link rel="stylesheet" href="/anyeansan.github.io/css/main.css">


<link rel="stylesheet" href="/anyeansan.github.io/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/anyeansan.github.io/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"hide","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="一蓑烟雨任平生">
<meta property="og:type" content="website">
<meta property="og:title" content="安₃">
<meta property="og:url" content="https:&#x2F;&#x2F;anyeansan.github.io&#x2F;">
<meta property="og:site_name" content="安₃">
<meta property="og:description" content="一蓑烟雨任平生">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://anyeansan.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>安₃</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/anyeansan.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">安₃</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">我未成名君未嫁 可能俱是不如人</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/anyeansan.github.io/" rel="section"><i class="fa fa-fw fa-home"></i>安府</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/anyeansan.github.io/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>书斋</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/anyeansan.github.io/categories/" rel="section"><i class="fa fa-fw fa-th"></i>门派</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/anyeansan" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://anyeansan.github.io/anyeansan.github.io/2020/03/29/Linux-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/anyeansan.github.io/images/an3.jpg">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="一蓑烟雨任平生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="安₃">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/anyeansan.github.io/2020/03/29/Linux-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Linux 安装和配置</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">✦</span>
              

              <time title="创建时间：2020-03-29 10:09:49 / 修改时间：10:10:51" itemprop="dateCreated datePublished" datetime="2020-03-29T10:09:49+08:00">2020-03-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">☛</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/anyeansan.github.io/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一-概述"><a href="#一-概述" class="headerlink" title="一 概述"></a>一 概述</h1><h2 id="1-1-硬件"><a href="#1-1-硬件" class="headerlink" title="1.1 硬件"></a>1.1 硬件</h2><ol>
<li>电源</li>
<li>CPU<ol>
<li>路数：即CPU的个数，1 路 = 1 CPU</li>
<li>核数</li>
</ol>
</li>
<li>内存<ol>
<li>缓冲（buffer）<ul>
<li>写：<code>数据 → 内存 → 磁盘</code></li>
</ul>
</li>
<li>缓存（cache）<ul>
<li>读：<code>磁盘 → 内存 → 数据</code></li>
</ul>
</li>
</ol>
</li>
<li>磁盘</li>
<li>主板</li>
<li>显卡</li>
<li>声卡</li>
<li>键鼠</li>
</ol>
<h2 id="1-2-服务器"><a href="#1-2-服务器" class="headerlink" title="1.2 服务器"></a>1.2 服务器</h2><ol>
<li>硬件服务器<ol>
<li>机架服务器</li>
<li>刀片服务器</li>
<li>塔式服务器</li>
</ol>
</li>
<li>虚拟服务器<ol>
<li>阿里云</li>
<li>亚马逊（AWS）</li>
<li>腾讯云</li>
</ol>
</li>
</ol>
<h2 id="1-3-操作系统"><a href="#1-3-操作系统" class="headerlink" title="1.3 操作系统"></a>1.3 操作系统</h2><ul>
<li><code>硬件 + 内核 + shell + 软件</code></li>
</ul>
<h2 id="1-4-Linux发展历史"><a href="#1-4-Linux发展历史" class="headerlink" title="1.4 Linux发展历史"></a>1.4 Linux发展历史</h2><ol>
<li><code>FSF</code><ul>
<li><code>free software foundation</code> 自由软件基金会，主要项目是GNU</li>
</ul>
</li>
<li><code>GNU</code><ul>
<li><code>GNU是“GNU is Not Unix”的递归缩写</code>，目标是建立可自由发布和移值的类unix操作系统</li>
<li>GNU类UNIX操作系统是由一系列应用程序，系统库和开发工具构成的软件集合（如Emacs，gcc，bash，gawk），并加上了用于资源分配和硬件管理的内核。</li>
</ul>
</li>
<li><code>GPL</code><ul>
<li><code>general public license</code>：通用公共许可，是一个开源许可协议</li>
</ul>
</li>
</ol>
<ul>
<li><code>linux 操作系统 = linux内核 + GNU软件和系统软件 + 必要的应用程序</code></li>
</ul>
<h2 id="1-5-Linux-发行版"><a href="#1-5-Linux-发行版" class="headerlink" title="1.5 Linux 发行版"></a>1.5 Linux 发行版</h2><ol>
<li><code>Fedora</code><ul>
<li>免费，新功能，小白鼠</li>
</ul>
</li>
<li><code>Red Hat</code><ul>
<li>收费</li>
</ul>
</li>
<li><code>CentOS</code><ul>
<li>去掉Red Hat的logo，收费软件被重新打包编译</li>
<li>后被Red Hat 收购</li>
</ul>
</li>
<li><code>Ubuntu</code><ul>
<li>桌面</li>
</ul>
</li>
<li><code>Debian FreeBSD</code><ul>
<li>安全 稳定</li>
</ul>
</li>
</ol>
<h2 id="1-6-语录"><a href="#1-6-语录" class="headerlink" title="1.6 语录"></a>1.6 语录</h2><ol>
<li>Linux 一切从根开始</li>
<li>Linux 一切皆文件</li>
<li>Linux 系统中命令行的修改大部分都是临时修改，配置文件是永久修改。</li>
<li>Linux 系统服务配置文件修改后，需要重启服务（重新加载配置文件）</li>
</ol>
<h1 id="二-CentOS-7-安装"><a href="#二-CentOS-7-安装" class="headerlink" title="二 CentOS 7 安装"></a>二 CentOS 7 安装</h1><h2 id="2-1-下载镜像"><a href="#2-1-下载镜像" class="headerlink" title="2.1 下载镜像"></a>2.1 下载镜像</h2><ol>
<li><a href="https://www.centos.org/" target="_blank" rel="noopener" title="CentOS 官网">CentoOS project</a></li>
<li><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener" title="阿里云官方镜像站">Aliyun mirror</a></li>
</ol>
<h2 id="2-2-准备虚拟环境"><a href="#2-2-准备虚拟环境" class="headerlink" title="2.2 准备虚拟环境"></a>2.2 准备虚拟环境</h2><ol>
<li>虚拟软件 <code>VMware Workstation</code></li>
</ol>
<h2 id="2-3-安装配置"><a href="#2-3-安装配置" class="headerlink" title="2.3 安装配置"></a>2.3 安装配置</h2><h3 id="1-软件安装"><a href="#1-软件安装" class="headerlink" title="1 软件安装"></a>1 软件安装</h3><ul>
<li><code>Minimal Insatll</code><ul>
<li><code>Debugging Tools</code></li>
<li><code>Compatibility Libraries</code></li>
<li><code>Development Tools</code></li>
<li><code>System Administration Tools</code></li>
</ul>
</li>
</ul>
<h3 id="2-网络（NAT）"><a href="#2-网络（NAT）" class="headerlink" title="2 网络（NAT）"></a>2 网络（NAT）</h3><ol>
<li>主机名</li>
<li><code>config</code><ol>
<li><code>General</code><ul>
<li>勾选自动连接</li>
</ul>
</li>
<li><code>IPv4 settings</code><ol>
<li><code>Method</code> <ul>
<li><code>Manual</code> （手动）</li>
</ul>
</li>
<li>ip 子网掩码 网关 <ul>
<li>根据虚拟机网络编辑器中 <code>VMnet8</code> 网卡设置</li>
</ul>
</li>
<li>dns <ul>
<li>如 <code>223.5.5.5</code>，<code>8.8.8.8</code></li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="3-磁盘分区（standard-partition）"><a href="#3-磁盘分区（standard-partition）" class="headerlink" title="3 磁盘分区（standard partition）"></a>3 磁盘分区（standard partition）</h3><ul>
<li><code>/boot</code><ul>
<li>引导分区，256Mb</li>
</ul>
</li>
<li><code>swap</code><ul>
<li>交换分区，</li>
<li>内存 &gt; 8G，swap = 8G，内存 &lt; 8G，swap = 内存 * 1.5</li>
</ul>
</li>
<li><code>/</code><ul>
<li>根分区，剩余大小</li>
</ul>
</li>
</ul>
<h3 id="4-关闭安全策略"><a href="#4-关闭安全策略" class="headerlink" title="4 关闭安全策略"></a>4 关闭安全策略</h3><ol>
<li><code>KDUMP</code></li>
<li><code>SECURITY POLICY</code></li>
</ol>
<h1 id="三-初始化配置"><a href="#三-初始化配置" class="headerlink" title="三 初始化配置"></a>三 初始化配置</h1><h2 id="3-1-配置-yum-源"><a href="#3-1-配置-yum-源" class="headerlink" title="3.1 配置 yum 源"></a>3.1 配置 yum 源</h2><h3 id="1-安装-wget"><a href="#1-安装-wget" class="headerlink" title="1 安装 wget"></a>1 安装 wget</h3><ul>
<li><code>yum install wget -y</code></li>
</ul>
<h3 id="2-备份"><a href="#2-备份" class="headerlink" title="2 备份"></a>2 备份</h3><ul>
<li><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</code></li>
</ul>
<h3 id="3-下载基本-yum-源"><a href="#3-下载基本-yum-源" class="headerlink" title="3 下载基本 yum 源"></a>3 下载基本 yum 源</h3><ol>
<li><code>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</code></li>
<li><code>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</code></li>
</ol>
<h3 id="4-下载扩展-yum-源-EPEL"><a href="#4-下载扩展-yum-源-EPEL" class="headerlink" title="4 下载扩展 yum 源 EPEL"></a>4 下载扩展 yum 源 EPEL</h3><ul>
<li><code>wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</code></li>
</ul>
<h2 id="3-2-更新系统和软件"><a href="#3-2-更新系统和软件" class="headerlink" title="3.2 更新系统和软件"></a>3.2 更新系统和软件</h2><ul>
<li><code>yum update -y</code></li>
</ul>
<h2 id="3-3-安装企业运维常用基础工具包"><a href="#3-3-安装企业运维常用基础工具包" class="headerlink" title="3.3 安装企业运维常用基础工具包"></a>3.3 安装企业运维常用基础工具包</h2><h3 id="1-CentOS-6-amp-7-都要安装的"><a href="#1-CentOS-6-amp-7-都要安装的" class="headerlink" title="1 CentOS 6 &amp; 7 都要安装的"></a>1 CentOS 6 &amp; 7 都要安装的</h3><ul>
<li><code>yum install tree nmap dos2unix lrzsz nc lsof tcpdump htop iftop iotop sysstat nethogs -y</code></li>
</ul>
<table>
<thead>
<tr>
<th>软件包名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>tree</code></td>
<td>树形结构显示文件和目录</td>
</tr>
<tr>
<td><code>nmap</code></td>
<td>扫描端口的工具</td>
</tr>
<tr>
<td><code>dos2unix</code></td>
<td>转换脚本格式的工具</td>
</tr>
<tr>
<td><code>lrzsz</code></td>
<td>包含上传（rz）和下载（sz）文件工具</td>
</tr>
<tr>
<td><code>nc</code></td>
<td>文件传输、端口检查工具</td>
</tr>
<tr>
<td><code>lsof</code></td>
<td>反查端口进程，以及服务开发文件工具</td>
</tr>
<tr>
<td><code>wget</code></td>
<td>网络下载工具</td>
</tr>
<tr>
<td><code>tcpdump</code></td>
<td>抓包、监听等重要排错工具</td>
</tr>
<tr>
<td><code>htop</code></td>
<td>系统进程相关信息查看工具</td>
</tr>
<tr>
<td><code>iftop</code></td>
<td>主机网卡宽带查看工具</td>
</tr>
<tr>
<td><code>sysstat</code></td>
<td>含有sar iostat 等重要系统性能查看工具</td>
</tr>
<tr>
<td><code>nethogs</code></td>
<td>显示进程的网络流量</td>
</tr>
</tbody></table>
<h3 id="2-CentOS-7-安装的"><a href="#2-CentOS-7-安装的" class="headerlink" title="2 CentOS 7 安装的"></a>2 CentOS 7 安装的</h3><ul>
<li><code>yum install psmisc net-tools bash-completion bash-completion-extras vim-enhanced -y</code></li>
</ul>
<table>
<thead>
<tr>
<th>软件包名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>psmisc</code></td>
<td>含有 <code>killalll pstree</code> 等命令</td>
</tr>
<tr>
<td><code>net-tools</code></td>
<td>含有 <code>netstat ifconfig route arp</code> 等命令</td>
</tr>
<tr>
<td><code>bash-completion</code></td>
<td>tab补全功能工具包</td>
</tr>
<tr>
<td><code>bash-completion-extras</code></td>
<td>tab补全功能扩展工具包</td>
</tr>
<tr>
<td><code>vim-enhanced</code></td>
<td>vim</td>
</tr>
</tbody></table>
<h2 id="3-4-修改网卡名称"><a href="#3-4-修改网卡名称" class="headerlink" title="3.4 修改网卡名称"></a>3.4 修改网卡名称</h2><h3 id="1-安装系统时"><a href="#1-安装系统时" class="headerlink" title="1 安装系统时"></a>1 安装系统时</h3><ol>
<li>菜单界面 按 <code>tab</code></li>
<li>输入 <code>net.ifnames=0 biosdevname=0</code></li>
</ol>
<h3 id="2-安装系统后"><a href="#2-安装系统后" class="headerlink" title="2 安装系统后"></a>2 安装系统后</h3><ol>
<li>修改网卡配置文件内容及文件名 <code>/etc/sysconfig/netword-scripts/ens33</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 修改内容</span><br><span class="line">	vim /etc/sysconfig/netword-scripts/ens33</span><br><span class="line">	name=eth0</span><br><span class="line">	device=eth0</span><br><span class="line">2 修改文件名</span><br><span class="line">	mv /etc/sysconfig/netword-scripts/ens33 /etc/sysconfig/netword-scripts/eth0</span><br></pre></td></tr></table></figure></li>
<li>修改网卡名称规则内核文件 <code>/etc/default/grub</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/grub</span><br><span class="line">GRUB_CMDLINE_LINUX=&quot;rhgb quiet&quot; 改为</span><br><span class="line">GRUB_CMDLINE_LINUX=&quot;net.ifnames=0 biosdevname=0 rhgb quiet&quot;</span><br><span class="line">```	</span><br><span class="line">3. 系统重新加载 grup 配置文件</span><br><span class="line">	* `grub2-mkconfig -o /boot/grub2/grub.cfg`</span><br><span class="line"></span><br><span class="line">## 3.5 系统优化</span><br><span class="line">### 1 selinux</span><br><span class="line">#### 1 概述</span><br><span class="line">* `Security-Enhanced Linux`</span><br><span class="line">	* 它是一个 Linux 内核模块，也是 Linux 的一个安全子系统。</span><br><span class="line">	* Selinux 用于对 root 用户的权限进行控制</span><br><span class="line"></span><br><span class="line">#### 2 操作</span><br><span class="line">1. `getenforce`</span><br><span class="line">	* 查看状态</span><br><span class="line">2. `setenforce 0`</span><br><span class="line">	* 临时关闭</span><br><span class="line">3. `/etc/selinux/config`</span><br></pre></td></tr></table></figure>
<h1 id="SELINUX-enforcing"><a href="#SELINUX-enforcing" class="headerlink" title="SELINUX=enforcing"></a>SELINUX=enforcing</h1>SELINUX=disabled # 永久关闭<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 2 关闭防火墙</span><br><span class="line">1. `systemctl stop firewalld`</span><br><span class="line">2. `systemctl disable firewalld`</span><br><span class="line"></span><br><span class="line">### 3 字符编码</span><br><span class="line">1. 修改环境变量 `LANG`（优先级高）</span><br><span class="line">2. 修改 `/etc/locale.conf`</span><br><span class="line">3. `localectl set-locale en_US.UTF-8`</span><br><span class="line"></span><br><span class="line">### 4 优化远程连接速度</span><br><span class="line">1. 修改ssh服务配置文件 `/etc/ssh/sshd_config`</span><br></pre></td></tr></table></figure>
79  GSSAPIAuthentication no<br>116 UseDNS no<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. 配置本地 hosts 文件 `/etc/hosts`</span><br></pre></td></tr></table></figure>
服务器ip 服务器主机名hostname</li>
<li>168.13.24 anyeansan<br>```</li>
<li>重启 ssh 服务<ul>
<li><code>systemctl restart sshd</code></li>
</ul>
</li>
</ol>
<h3 id="4-配置Shell命令提示符样式-PS1"><a href="#4-配置Shell命令提示符样式-PS1" class="headerlink" title="4 配置Shell命令提示符样式 PS1"></a>4 配置Shell命令提示符样式 PS1</h3><h4 id="1-设置格式"><a href="#1-设置格式" class="headerlink" title="1 设置格式"></a>1 设置格式</h4><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>\h</code></td>
<td>hostname（short）</td>
</tr>
<tr>
<td><code>\H</code></td>
<td>hostname（full）</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>current working directory</td>
</tr>
<tr>
<td><code>\W</code></td>
<td>current working directory（basename）</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>24小时格式显示时间 <code>HH:MM:SS</code></td>
</tr>
<tr>
<td><code>\d</code></td>
<td>日期 <code>weekday month date</code></td>
</tr>
<tr>
<td><code>\u</code></td>
<td>当前用户名</td>
</tr>
<tr>
<td><code>\$</code></td>
<td>root 显示 <code>#</code> 普通用户显示 <code>$</code></td>
</tr>
</tbody></table>
<h4 id="2-颜色"><a href="#2-颜色" class="headerlink" title="2 颜色"></a>2 颜色</h4><ul>
<li><code>\[\e[F;Bm\]内容\[\e[0m\]</code><ul>
<li><code>\[\e[F;Bm\]</code><ul>
<li>颜色开始<ul>
<li>F<ul>
<li>表示字体颜色，30~37</li>
</ul>
</li>
<li>B<ul>
<li>表示背景颜色，40~47</li>
</ul>
</li>
</ul>
</li>
<li>特殊显示<ul>
<li>0 关闭颜色</li>
<li>1 高亮</li>
<li>4 下划线</li>
<li>5 闪烁</li>
<li>7 反白</li>
<li>8 颜色不可见</li>
</ul>
</li>
</ul>
</li>
<li><code>\[\e[0m\]</code><ul>
<li>颜色结束</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-式样"><a href="#3-式样" class="headerlink" title="3 式样"></a>3 式样</h3><ol>
<li><code>export PS1=&#39;\[\e[32;1m\][\u@\h \W]\$ \[\e[0m\]&#39;</code></li>
<li><code>export PS1=&#39;\[\e[32;1m\][\u@\h \[\e[34;1m\]\W\[\e[32;1m\]]\$ \[\e[0m\]&#39;</code></li>
</ol>
<h1 id="四-远程连接"><a href="#四-远程连接" class="headerlink" title="四 远程连接"></a>四 远程连接</h1><h2 id="4-1-远程连接软件"><a href="#4-1-远程连接软件" class="headerlink" title="4.1 远程连接软件"></a>4.1 远程连接软件</h2><table>
<thead>
<tr>
<th>软件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>xShell</code></td>
<td>免费（实用）</td>
</tr>
<tr>
<td><code>ScureCRT</code></td>
<td>收费</td>
</tr>
<tr>
<td><code>Putty</code></td>
<td>免费 功能简单</td>
</tr>
</tbody></table>
<h2 id="4-2-xShell-相关配置"><a href="#4-2-xShell-相关配置" class="headerlink" title="4.2 xShell 相关配置"></a>4.2 xShell 相关配置</h2><h3 id="1-窗口外观"><a href="#1-窗口外观" class="headerlink" title="1 窗口外观"></a>1 窗口外观</h3><p><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E7%AA%97%E5%8F%A3%E5%A4%96%E8%A7%82.png" alt=""></p>
<h3 id="2-默认会话属性"><a href="#2-默认会话属性" class="headerlink" title="2 默认会话属性"></a>2 默认会话属性</h3><p><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-01.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-02.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-03.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-04.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-05.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-06.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-07.png" alt=""><br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D%E5%B1%9E%E6%80%A7-08.png" alt=""></p>
<h3 id="3-使用密钥连接"><a href="#3-使用密钥连接" class="headerlink" title="3 使用密钥连接"></a>3 使用密钥连接</h3><ol>
<li>将公钥上传至服务端 <code>~/.ssh/authorized_keys</code>，权限 <code>600</code></li>
<li>配置 xShell<br><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/xShell/%E5%AF%86%E9%92%A5%E8%BF%9E%E6%8E%A5.png" alt=""></li>
</ol>

      
    </div>

    
    
    

    <div>
      
    </div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://anyeansan.github.io/anyeansan.github.io/2020/03/29/Linux-%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/anyeansan.github.io/images/an3.jpg">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="一蓑烟雨任平生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="安₃">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/anyeansan.github.io/2020/03/29/Linux-%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">Linux 命令</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">✦</span>
              

              <time title="创建时间：2020-03-29 10:04:35 / 修改时间：10:08:53" itemprop="dateCreated datePublished" datetime="2020-03-29T10:04:35+08:00">2020-03-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">☛</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/anyeansan.github.io/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一-帮助命令"><a href="#一-帮助命令" class="headerlink" title="一 帮助命令"></a>一 帮助命令</h1><h2 id="1-1-man（manual）"><a href="#1-1-man（manual）" class="headerlink" title="1.1 man（manual）"></a>1.1 man（manual）</h2><ul>
<li><code>man [OPTION] 命令</code><ul>
<li>查看外部命令的功能 参数 帮助信息等等</li>
<li><code>OPTION</code><ul>
<li><code>1</code><ul>
<li>查看命令帮助文档</li>
</ul>
</li>
<li><code>5</code><ul>
<li>查看配置帮助文档，当命令和配置同名时，使用15来区分，如<code>passwd</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>文档操作</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>空格, f</code></td>
<td>向下翻页</td>
</tr>
<tr>
<td><code>b</code></td>
<td>向上翻页</td>
</tr>
<tr>
<td><code>回车</code></td>
<td>向下一行</td>
</tr>
<tr>
<td><code>k</code></td>
<td>向上一行</td>
</tr>
<tr>
<td><code>/key</code></td>
<td>向下查找key，n 下一个匹配，N 上一个匹配</td>
</tr>
<tr>
<td><code>?key</code></td>
<td>向上查找key</td>
</tr>
</tbody></table>
<h2 id="1-2-–help"><a href="#1-2-–help" class="headerlink" title="1.2 –help"></a>1.2 –help</h2><ul>
<li><code>命令 --help</code><ul>
<li>查看外部命令帮助</li>
</ul>
</li>
</ul>
<h2 id="1-3-help"><a href="#1-3-help" class="headerlink" title="1.3 help"></a>1.3 help</h2><ul>
<li><code>help 命令</code><ul>
<li>查看shell内置命令的帮助信息，如<code>cd, pwd, history..</code></li>
</ul>
</li>
</ul>
<h1 id="二-开关机命令"><a href="#二-开关机命令" class="headerlink" title="二 开关机命令"></a>二 开关机命令</h1><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>shutdown</code></td>
<td>开启一个一分钟后关机的计划</td>
</tr>
<tr>
<td><code>shutdown -c</code></td>
<td>取消关机计划</td>
</tr>
<tr>
<td><code>shutdown -h Time</code></td>
<td>指定时间关机，Time 可以是 <code>now</code> 或具体时间</td>
</tr>
<tr>
<td><code>shutdown -r Time</code></td>
<td>指定时间重启</td>
</tr>
<tr>
<td><code>systemctl poweroff</code></td>
<td>关机</td>
</tr>
<tr>
<td><code>systemctl reboot</code></td>
<td>重启</td>
</tr>
</tbody></table>
<h1 id="三-其它命令"><a href="#三-其它命令" class="headerlink" title="三 其它命令"></a>三 其它命令</h1><h2 id="3-1-echo（display-a-line-of-text）"><a href="#3-1-echo（display-a-line-of-text）" class="headerlink" title="3.1 echo（display a line of text）"></a>3.1 echo（display a line of text）</h2><ul>
<li><code>echo [OPTION] String</code><ul>
<li>显示文本</li>
<li><code>OPTION</code><ul>
<li><code>-n</code><ul>
<li>不换行输出</li>
</ul>
</li>
<li><code>-e</code><ul>
<li>支持转义字符<code>\b \t \r \n \e(escape键)...</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-2-xargs"><a href="#3-2-xargs" class="headerlink" title="3.2 xargs"></a>3.2 xargs</h2><ul>
<li><code>xargs [OPTION] &lt; input</code><ul>
<li>将标准输入的所有行一行显示，xargs 会自动忽略别名</li>
<li><code>OPTION</code><ul>
<li><code>-n num</code><ul>
<li>每一行显示原num行</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-3-column"><a href="#3-3-column" class="headerlink" title="3.3 column"></a>3.3 column</h2><ul>
<li><code>column -t</code><ul>
<li>按表格显示</li>
</ul>
</li>
</ul>
<h2 id="3-4-tr"><a href="#3-4-tr" class="headerlink" title="3.4 tr"></a>3.4 tr</h2><ul>
<li><code>tr  oldStr newStr</code><ul>
<li>从标准输入中替换、缩减或删除字符，并将结果写到标准输出</li>
<li>tr 是一对一的替换<ol>
<li>oldStr 字符数 &lt; newStr 字符数，多的新字符忽略，如 <code>echo &quot;abc&quot;|tr &quot;abc&quot; &quot;12345&quot;</code>，结果为 123</li>
<li>oldStr 字符数 &gt; newStr 字符数，多的旧字符都用最后一个新字符替换，如 <code>echo &quot;abcde&quot;|tr &quot;abcde&quot; &quot;123&quot;</code>，结果为 12333</li>
<li>如果 oldStr 中有重复字符则使用最后一个对应的新字符，如<code>echo &quot;abcdba|tr &quot;abcdba&quot; &quot;123456&quot;</code>，结果为 653456        </li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="3-5-tee"><a href="#3-5-tee" class="headerlink" title="3.5 tee"></a>3.5 tee</h2><ul>
<li><code>tee [-a] File</code><ul>
<li>读取标准输入的数据，并将其内容输出成文件</li>
<li><code>-a</code><ul>
<li>追加`</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-6-read"><a href="#3-6-read" class="headerlink" title="3.6 read"></a>3.6 read</h2><ul>
<li><code>read [OPTION] 变量名</code><ul>
<li>接收标准输入并赋值给变量</li>
<li><code>OPTION</code><ul>
<li><code>-p &quot;提示信息&quot;</code><ul>
<li>在等待read输入时，输出提示信息</li>
</ul>
</li>
<li><code>-t 秒数</code><ul>
<li>read命令会一直等待用户输入，指定等待时间</li>
</ul>
</li>
<li><code>-n 字符数</code><ul>
<li>read命令只接受指定的字符数</li>
</ul>
</li>
<li><code>-s</code><ul>
<li>隐藏输入的数据，适用于机密信息的输入</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-7-cut"><a href="#3-7-cut" class="headerlink" title="3.7 cut"></a>3.7 cut</h2><ul>
<li><code>cut [OPTION] [File]</code><ul>
<li>按“列”提取文本字符</li>
<li><code>OPTION</code><ul>
<li><code>-f 列号</code><ul>
<li>提取第几列</li>
</ul>
</li>
<li><code>-d 分隔符</code><ul>
<li>按照指定分隔符分割列</li>
<li>默认为制表符</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-8-sort"><a href="#3-8-sort" class="headerlink" title="3.8 sort"></a>3.8 sort</h2><ul>
<li><code>sort [OPTION] [File]</code><ul>
<li><code>OPTION</code><ul>
<li><code>-f, --ignore-case</code><ul>
<li>忽略大小写</li>
</ul>
</li>
<li><code>-n, --numeric-sort</code><ul>
<li>依照数值的大小排序</li>
</ul>
</li>
<li><code>-r, --reverse</code><ul>
<li>反向排序</li>
</ul>
</li>
<li><code>-t, --field-separator=SEP</code><ul>
<li>指定排序时所用的分隔符</li>
</ul>
</li>
<li><code>-k n[,m]</code><ul>
<li>按照指定的字段范围排序。从第n字段开始，m字段结束（默认到行尾）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-9-history"><a href="#3-9-history" class="headerlink" title="3.9 history"></a>3.9 history</h2><ul>
<li><code>history [OPTION] [历史命令保存文件]</code><ul>
<li><code>OPTION</code><ul>
<li><code>-c</code><ul>
<li>清空历史命令</li>
</ul>
</li>
<li><code>-w</code><ul>
<li>把缓存中的历史命令写入历史命令保存文件</li>
<li>默认用户正常退出后才会保存</li>
<li>默认保存在家目录下<code>~/.bash_history</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-10-dd"><a href="#3-10-dd" class="headerlink" title="3.10 dd"></a>3.10 dd</h2><ul>
<li><code>dd if=输入文件 of=输出文件 bs=块大小 count=块个数</code><ul>
<li>按照指定大小和个数的数据块来复制文件或转换文件</li>
<li><code>if</code>（input file）<ul>
<li>指定输入文件或设备</li>
<li>如果不指定if，默认就会从 stdin 中读取输入</li>
</ul>
</li>
<li><code>of</code>（output file）<ul>
<li>指定输出文件或设备</li>
<li>如果不指定of，默认就会将 stdout 作为默认输出</li>
</ul>
</li>
<li><code>bs</code>（block size）<ul>
<li>数据块 block 大小，默认单位为 byte</li>
</ul>
</li>
<li><code>count</code><ul>
<li>数据块 block 数量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="四-文件-amp-目录命令"><a href="#四-文件-amp-目录命令" class="headerlink" title="四 文件 &amp; 目录命令"></a>四 文件 &amp; 目录命令</h1><h2 id="4-1-pwd（print-working-directory）"><a href="#4-1-pwd（print-working-directory）" class="headerlink" title="4.1 pwd（print working directory）"></a>4.1 pwd（print working directory）</h2><ul>
<li><code>pwd</code><ul>
<li>显示当前工作目录</li>
</ul>
</li>
</ul>
<h2 id="4-2-cd（change-directory）"><a href="#4-2-cd（change-directory）" class="headerlink" title="4.2 cd（change directory）"></a>4.2 cd（change directory）</h2><ul>
<li><code>cd dir</code><ul>
<li>切换目录</li>
<li><code>dir</code><ul>
<li><code>.</code><ul>
<li>当前目录</li>
</ul>
</li>
<li><code>..</code><ul>
<li>上级目录</li>
</ul>
</li>
<li><code>~</code><ul>
<li>根目录</li>
</ul>
</li>
<li><code>-</code><ul>
<li>前一个目录</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-3-mkdir（make-directories）"><a href="#4-3-mkdir（make-directories）" class="headerlink" title="4.3 mkdir（make directories）"></a>4.3 mkdir（make directories）</h2><ul>
<li><code>mkdir [OPTION] dir</code><ul>
<li>创建一个或多个空目录，linux一切皆文件，目录也是文件，目录与文件不能重名</li>
<li><code>OPTION</code><ul>
<li><code>-p, --parents</code><ul>
<li>递归创建</li>
<li>目录有多层时，如果父目录不存在，首先创建父目录</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-4-ls（list-directory-contents）"><a href="#4-4-ls（list-directory-contents）" class="headerlink" title="4.4 ls（list directory contents）"></a>4.4 ls（list directory contents）</h2><ul>
<li><code>ls [OPTION] [File]</code><ul>
<li>显示文件名或者目录下的内容（默认为当前目录）</li>
<li><code>OPTION</code><ul>
<li><code>-a</code>, <code>--all</code><ul>
<li>显示目录下所有文件，包含隐藏文件（以 <code>.</code> 开头的文件）</li>
</ul>
</li>
<li><code>-A</code>, <code>--almost-all</code><ul>
<li>同 <code>-a</code> 但不包含 <code>.</code> 和 <code>..</code></li>
</ul>
</li>
<li><code>-l</code><ul>
<li>显示详细信息</li>
</ul>
</li>
<li><code>-d</code>, <code>--directory</code><ul>
<li>显示目录本身的信息（而非目录下的内容）</li>
</ul>
</li>
<li><code>-t</code><ul>
<li>根据最后修改时间排序，newest first</li>
</ul>
</li>
<li><code>-r</code>, <code>--reverse</code><ul>
<li>反向排序</li>
</ul>
</li>
<li><code>-h</code>, <code>--human-readable</code><ul>
<li>以人类可读的信息显示大小</li>
</ul>
</li>
<li><code>-S</code><ul>
<li>文件从大到小排序</li>
</ul>
</li>
<li><code>-i</code>, <code>--inode</code><ul>
<li>显示inode number</li>
</ul>
</li>
<li><code>p</code><ul>
<li>区分文件和目录（目录名后添加 <code>/</code>）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-5-tree（list-contents-of-directories-in-a-tree-like-format）"><a href="#4-5-tree（list-contents-of-directories-in-a-tree-like-format）" class="headerlink" title="4.5 tree（list contents of directories in a tree-like format）"></a>4.5 tree（list contents of directories in a tree-like format）</h2><ul>
<li><code>tree [OPTION] dir</code><ul>
<li>树形显示目录，需要安装 <code>tree</code> 软件</li>
<li><code>OPTION</code><ul>
<li><code>-L level</code><ul>
<li>指定显示层级，如<code>-L 1</code> 显示一层</li>
</ul>
</li>
<li><code>-d</code><ul>
<li>只显示目录</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-6-touch（change-file-timestamps）"><a href="#4-6-touch（change-file-timestamps）" class="headerlink" title="4.6 touch（change file timestamps）"></a>4.6 touch（change file timestamps）</h2><ul>
<li><code>touch File</code><ul>
<li>创建一个或多个空文件，如果文件存在则修改文件的最后访问时间和最后修改时间</li>
<li><code>File</code><ul>
<li>可以使用区间 <code>{begin..end}</code></li>
<li>如<code>touch {1..10}.txt</code>，即创建<code>1.txt 2.txt ...10.txt</code>10个文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-7-cp（copy-files-and-directories）"><a href="#4-7-cp（copy-files-and-directories）" class="headerlink" title="4.7 cp（copy files and directories）"></a>4.7 cp（copy files and directories）</h2><ul>
<li><code>cp [OPTION] Source Destdir</code><ul>
<li>复制一个或多个文件到指定目录</li>
<li><code>OPTION</code><ul>
<li><code>-r</code>, <code>--recursive</code><ul>
<li>递归复制，用于复制目录</li>
</ul>
</li>
<li><code>-p</code><ul>
<li>复制时保留文件属性（所有者、权限信息、时间…）</li>
</ul>
</li>
<li><code>-d</code><ul>
<li>复制时保留链接</li>
</ul>
</li>
<li><code>-a</code><ul>
<li>等同于 <code>-dpr</code> </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>cp test.txt{,.bak}</code><ul>
<li>例用 <code>{}</code> 的结合特性快捷复制，等价于 <code>cp test.txt test.txt.bak</code></li>
</ul>
</li>
</ul>
<h2 id="4-8-rm（remove-empty-directories）"><a href="#4-8-rm（remove-empty-directories）" class="headerlink" title="4.8 rm（remove empty directories）"></a>4.8 rm（remove empty directories）</h2><ul>
<li><code>rm [OPTION] File</code><ul>
<li>删除一个或多个文件</li>
<li><code>OPTION</code><ul>
<li><code>-r</code>, <code>--recursive</code><ul>
<li>递归删除，用于删除目录</li>
</ul>
</li>
<li><code>-f</code>, <code>--force</code><ul>
<li>确认</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-9-mv（move-rename-files）"><a href="#4-9-mv（move-rename-files）" class="headerlink" title="4.9 mv（move (rename) files）"></a>4.9 mv（move (rename) files）</h2><ul>
<li><code>mv Source Dest</code><ul>
<li>如果不在同一个目录则是剪切</li>
<li>如果在同一个目录则是重命名</li>
</ul>
</li>
</ul>
<h2 id="4-10-cat（concatenate-files-and-print-on-the-standard-output）"><a href="#4-10-cat（concatenate-files-and-print-on-the-standard-output）" class="headerlink" title="4.10 cat（concatenate files and print on the standard output）"></a>4.10 cat（concatenate files and print on the standard output）</h2><ul>
<li><code>cat [OPTION] File</code><ul>
<li>查看文件内容</li>
<li><code>OPTION</code><ul>
<li><code>-n</code>, <code>--number</code><ul>
<li>显示行号</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>tac File</code><ul>
<li>反向查看内容</li>
</ul>
</li>
</ul>
<h2 id="4-11-more（file-perusal-filter-for-crt-viewing）"><a href="#4-11-more（file-perusal-filter-for-crt-viewing）" class="headerlink" title="4.11 more（file perusal filter for crt viewing）"></a>4.11 more（file perusal filter for crt viewing）</h2><ul>
<li><code>more File</code><ul>
<li>分页显示内容，只能向下</li>
</ul>
</li>
</ul>
<h2 id="4-12-less（opposite-of-more）"><a href="#4-12-less（opposite-of-more）" class="headerlink" title="4.12 less（opposite of more）"></a>4.12 less（opposite of more）</h2><ul>
<li><code>less [OPTION] File</code><ul>
<li>分页显示内容，可向上向下</li>
<li><code>OPTION</code><ul>
<li><code>-N</code>, <code>--LINE-NUMBERS</code><ul>
<li>显示行号</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>f</code></td>
<td>下一页</td>
</tr>
<tr>
<td><code>b</code></td>
<td>上一页</td>
</tr>
<tr>
<td><code>回车</code></td>
<td>下一行</td>
</tr>
<tr>
<td><code>k</code></td>
<td>上一行</td>
</tr>
<tr>
<td><code>g</code></td>
<td>跳到第一行</td>
</tr>
<tr>
<td><code>G</code></td>
<td>跳到最后一行</td>
</tr>
<tr>
<td><code>p num%</code></td>
<td>跳到百分之num</td>
</tr>
</tbody></table>
<h2 id="4-13-head（output-the-first-part-of-files）"><a href="#4-13-head（output-the-first-part-of-files）" class="headerlink" title="4.13 head（output the first part of files）"></a>4.13 head（output the first part of files）</h2><ul>
<li><code>head [OPTION] File</code><ul>
<li>默认显示前10行</li>
<li><code>OPTION</code><ul>
<li><code>-n</code><ul>
<li>显示前 n 行</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-14-tail（output-the-last-part-of-files）"><a href="#4-14-tail（output-the-last-part-of-files）" class="headerlink" title="4.14 tail（output the last part of files）"></a>4.14 tail（output the last part of files）</h2><ul>
<li><code>tail [OPTION] file</code><ul>
<li>默认显示后10行</li>
<li><code>OPTION</code><ul>
<li><code>-n</code><ul>
<li>显示后n行</li>
</ul>
</li>
<li><code>-f</code>, <code>--follow</code><ul>
<li>实时监控文件尾部变化，如查看日志</li>
<li>如果文件被删除或移动，没有信息提示，想要监控需要重新追踪</li>
</ul>
</li>
<li><code>-F</code><ul>
<li>实时监控文件尾部变化</li>
<li>如果文件被删除或移动，有信息提示，如果文件恢复会继续追踪</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-15-file（determine-file-type）"><a href="#4-15-file（determine-file-type）" class="headerlink" title="4.15 file（determine file type）"></a>4.15 file（determine file type）</h2><ul>
<li><code>file [OPTION] File</code><ul>
<li>查看文件类型及编码</li>
<li><code>OPTION</code><ul>
<li><code>-i</code><ul>
<li>查看文件MIME类型及编码</li>
</ul>
</li>
<li><code>-L</code><ul>
<li>查看软链接文件时，查看的是软链接指向的目标文件的信息</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-16-diff（compare-files-line-by-line）"><a href="#4-16-diff（compare-files-line-by-line）" class="headerlink" title="4.16 diff（compare files line by line）"></a>4.16 diff（compare files line by line）</h2><ul>
<li><code>diff [OPTION] File</code><ul>
<li>比较文件内容的差异</li>
<li><code>OPTION</code><ul>
<li><code>-q</code><ul>
<li>仅输出文件是否有差异，不报告详细差异</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-17-stat"><a href="#4-17-stat" class="headerlink" title="4.17 stat"></a>4.17 stat</h2><ul>
<li><code>stat File</code><ul>
<li>查看文件 inode 信息</li>
</ul>
</li>
</ul>
<h2 id="4-18-wc"><a href="#4-18-wc" class="headerlink" title="4.18 wc"></a>4.18 wc</h2><ul>
<li><code>wc [OPTION] FILE | Input</code><ul>
<li>统计行数、字数、字节数</li>
<li><code>OPTION</code><ul>
<li><code>-c</code><ul>
<li>统计字节数</li>
</ul>
</li>
<li><code>-w</code><ul>
<li>统计单词数</li>
</ul>
</li>
<li><code>-l</code><ul>
<li>统计行数</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-19-rename"><a href="#4-19-rename" class="headerlink" title="4.19 rename"></a>4.19 rename</h2><ul>
<li><code>rename expr replacement File</code><ul>
<li>将替换文件中匹配部分</li>
<li><code>expr</code><ul>
<li>File 中需要重命名的部分</li>
</ul>
</li>
<li><code>replacement</code><ul>
<li>expression 修改成的结果</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="五-时间命令"><a href="#五-时间命令" class="headerlink" title="五 时间命令"></a>五 时间命令</h1><h2 id="5-1-date"><a href="#5-1-date" class="headerlink" title="5.1 date"></a>5.1 date</h2><ul>
<li><code>date [OPTION] [Format]</code><ul>
<li>以默认格式查看时间</li>
<li><code>OPTION</code><ul>
<li><code>-s</code><ul>
<li>修改时间</li>
</ul>
</li>
</ul>
</li>
<li><code>Format</code><ul>
<li><code>&quot;+%y-%m-%d %H:%M:%S&quot;</code><ul>
<li><code>Y-M-D H:M:S</code></li>
</ul>
</li>
<li><code>+%F</code><ul>
<li><code>full date</code> 等价于 <code>%Y-%m-%d</code></li>
</ul>
</li>
<li><code>+%T</code><ul>
<li><code>time</code> 等价于 <code>%H:%M:%S</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-2-ntpdate"><a href="#5-2-ntpdate" class="headerlink" title="5.2 ntpdate"></a>5.2 ntpdate</h2><ul>
<li><code>ntpdate ip</code><ul>
<li>时间同步，需要安装 <code>ntpdate</code> 软件包</li>
<li><code>ip</code>（ntp 服务器）<ul>
<li><code>ntp.aliyun.com</code></li>
<li><code>cn.pool.ntp.org</code></li>
<li><code>cn.ntp.org.cn</code></li>
<li><code>time.asia.apple.com</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="六-打包压缩解压命令"><a href="#六-打包压缩解压命令" class="headerlink" title="六 打包压缩解压命令"></a>六 打包压缩解压命令</h1><h2 id="6-1-概述"><a href="#6-1-概述" class="headerlink" title="6.1 概述"></a>6.1 概述</h2><ol>
<li>Linux 中打包文件一般以 <code>.tar</code> 结尾，压缩命令一般以<code>.gz</code>结尾</li>
<li>通常打包和压缩是一起进行的，打包并压缩后的文件后缀一般为 <code>.tar.gz</code></li>
</ol>
<h2 id="6-2-打包压缩"><a href="#6-2-打包压缩" class="headerlink" title="6.2 打包压缩"></a>6.2 打包压缩</h2><ul>
<li><code>tar -zcvf 压缩包 文件</code><ul>
<li>将一个或多个文件打包压缩</li>
<li><code>-z, --gzip</code><ul>
<li>使用Gzip压缩，后缀名建议<code>.tar.gz</code></li>
</ul>
</li>
<li><code>-c, --create</code><ul>
<li>创建压缩包文件</li>
</ul>
</li>
<li><code>-v, --verbose</code><ul>
<li>显示过程</li>
</ul>
</li>
<li><code>-f, --file=</code><ul>
<li>指定压缩包文件路径</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="6-3-解压"><a href="#6-3-解压" class="headerlink" title="6.3 解压"></a>6.3 解压</h2><ul>
<li><code>tar -xvf 压缩包 [-C 解压路径]</code><ul>
<li>默认解压到当前路径</li>
<li><code>x</code>, <code>--extract</code>, <code>--get</code><ul>
<li>解压</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="6-4-查看压缩包中的文件"><a href="#6-4-查看压缩包中的文件" class="headerlink" title="6.4 查看压缩包中的文件"></a>6.4 查看压缩包中的文件</h2><ul>
<li><code>tar -tf 压缩包</code><ul>
<li><code>-t</code>, <code>--list</code></li>
</ul>
</li>
</ul>
<h1 id="七-搜索命令"><a href="#七-搜索命令" class="headerlink" title="七 搜索命令"></a>七 搜索命令</h1><h2 id="7-1-find（search-for-files-in-a-directory-hierarchy）"><a href="#7-1-find（search-for-files-in-a-directory-hierarchy）" class="headerlink" title="7.1 find（search for files in a directory hierarchy）"></a>7.1 find（search for files in a directory hierarchy）</h2><ul>
<li><code>find [路径] [条件] [操作]</code><ul>
<li>在指定路径根据条件查找文件，并对找到的文件执行指定操作</li>
<li><code>路径</code><ul>
<li>find 命令查找路径，默认为当前目录</li>
</ul>
</li>
<li><code>条件</code><ul>
<li>查找的条件，可以有多个</li>
<li><code>-a</code><ul>
<li>多个条件 逻辑与 关系，默认</li>
</ul>
</li>
<li><code>-o</code><ul>
<li>逻辑或</li>
</ul>
</li>
<li><code>-not</code><ul>
<li>逻辑非</li>
</ul>
</li>
</ul>
</li>
<li><code>操作</code><ul>
<li><code>-print</code><ul>
<li>打印找到的结果，默认</li>
</ul>
</li>
<li><code>-exec 命令 {} \;</code><ul>
<li>对匹配的结果逐个执行命令<ul>
<li><code>{}</code><ul>
<li>代表查到的内容</li>
</ul>
</li>
<li><code>\;</code><ul>
<li>匹配的文件可能有多个，即要执行多次命令，用分号隔开</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>条件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>-name Pattern</code></td>
<td>根据文件名查找（精准匹配，可以用正则）</td>
</tr>
<tr>
<td><code>-iname Pattern</code></td>
<td>根据文件名查找，不区分大小写</td>
</tr>
<tr>
<td><code>-perm Mode</code></td>
<td>根据文件权限查找</td>
</tr>
<tr>
<td><code>-user User</code></td>
<td>根据文件属主查找</td>
</tr>
<tr>
<td><code>-group Group</code></td>
<td>根据文件属组查找</td>
</tr>
<tr>
<td><code>-type Type</code></td>
<td>根据文件类型查找</td>
</tr>
<tr>
<td><code>-size n/+n/-n</code></td>
<td>根据文件大小查找</td>
</tr>
<tr>
<td><code>-atime/ctime/mtime n/-n/+n</code></td>
<td>根据文件时间查找</td>
</tr>
<tr>
<td><code>-inum Num</code></td>
<td>根据文件 inode 号查找</td>
</tr>
<tr>
<td><code>-maxdepth level</code></td>
<td>指定目录查找层次深度</td>
</tr>
</tbody></table>
<h2 id="7-2-locate（find-files-by-name）"><a href="#7-2-locate（find-files-by-name）" class="headerlink" title="7.2 locate（find files by name）"></a>7.2 locate（find files by name）</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1 概述"></a>1 概述</h3><ol>
<li>此命令需要安装 <code>mlocate</code> 软件包</li>
<li>建立文件索引数据库，快速查找文件位置</li>
<li><code>/var/lib/mlocate/mlocate.db</code><ul>
<li>维护的数据库（文件资料库）</li>
</ul>
</li>
<li><code>/tmp</code> 不在数据库范围</li>
</ol>
<h3 id="2-使用"><a href="#2-使用" class="headerlink" title="2 使用"></a>2 使用</h3><ol>
<li><code>updatedb</code><ul>
<li>更新数据库（建立文件和目录结构的对应关系）</li>
<li>如果没有更新过或者是新建立的文件，文件资料库没有，使用locate查找不到</li>
</ul>
</li>
<li><code>locate File</code><ul>
<li>查找文件绝对路径</li>
</ul>
</li>
</ol>
<h2 id="7-3-which（shows-the-full-path-of-shell-commands）"><a href="#7-3-which（shows-the-full-path-of-shell-commands）" class="headerlink" title="7.3 which（shows the full path of (shell) commands）"></a>7.3 which（shows the full path of (shell) commands）</h2><ul>
<li><code>which Command</code><ul>
<li>查看命令文件的绝对路径及别名信息</li>
<li>查找的范围是 <code>PATH</code> 所配置的路径</li>
</ul>
</li>
</ul>
<h2 id="7-4-whereis（locate-the-binary-source-and-manual-page-files-for-a-command）"><a href="#7-4-whereis（locate-the-binary-source-and-manual-page-files-for-a-command）" class="headerlink" title="7.4 whereis（locate the binary, source, and manual page files for a command）"></a>7.4 whereis（locate the binary, source, and manual page files for a command）</h2><ul>
<li><code>whereis Command</code><ul>
<li>查看命令文件的绝对路径及相关帮助文档绝对路径</li>
</ul>
</li>
</ul>
<h1 id="八-磁盘命令"><a href="#八-磁盘命令" class="headerlink" title="八 磁盘命令"></a>八 磁盘命令</h1><h2 id="8-1-df（report-file-system-disk-space-usage）"><a href="#8-1-df（report-file-system-disk-space-usage）" class="headerlink" title="8.1 df（report file system disk space usage）"></a>8.1 df（report file system disk space usage）</h2><ul>
<li><code>df [OPTION] [File]</code><ul>
<li>查看文件系统的磁盘空间使用信息及挂载信息</li>
<li><code>OPTION</code><ul>
<li><code>-a, --all</code><ul>
<li>显示所有文件系统信息，包括系统特有的 /proc、/sysfs 等文件系统</li>
</ul>
</li>
<li><code>-h, --human-readable</code><ul>
<li>使用人们习惯的 KB、MB 或 GB 等单位自行显示容量</li>
</ul>
</li>
<li><code>-k</code><ul>
<li>以 KB 为单位显示容量（默认）</li>
</ul>
</li>
<li><code>-m</code><ul>
<li>以 MB 为单位显示容量</li>
</ul>
</li>
<li><code>-T, --print-type</code><ul>
<li>显示文件系统类型</li>
</ul>
</li>
<li><code>-i, --inodes</code><ul>
<li>不用硬盘容量显示，而是以含有 inode 的数量来显示</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-2-du（disk-usage）"><a href="#8-2-du（disk-usage）" class="headerlink" title="8.2 du（disk usage）"></a>8.2 du（disk usage）</h2><ul>
<li><code>du [OPTION] [File]</code><ul>
<li>统计目录或文件所占磁盘空间大小</li>
<li>如果是目录，默认显示目录和子目录的磁盘占用量</li>
<li><code>OPTION</code><ul>
<li><code>-a, --all</code><ul>
<li>显示目录、子目录和子文件的磁盘占用量</li>
</ul>
</li>
<li><code>-s, --summarize</code><ul>
<li>只统计总磁盘占用量，而不列出子目录和子文件的磁盘占用量</li>
<li>即只显示目录的磁盘占用量</li>
</ul>
</li>
<li><code>-h, --human-readable</code><ul>
<li>以人类可读的单位显示磁盘占用量</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="注"><a href="#注" class="headerlink" title="注"></a>注</h3><ol>
<li><code>ls -l</code> 命令统计的是目录下的子文件名称和子目录名称所占大小</li>
<li><code>du</code> 命令统计占用磁盘空间</li>
<li>文件大小<ul>
<li>文件的实际大小，比如 <code>13KB</code></li>
</ul>
</li>
<li>文件占用磁盘空间<ol>
<li>文件占用磁盘空间取决于文件系统的 block 大小（linux 默认为 4 KB）</li>
<li>1 个block 只能被 1 个文件占用，如果 1 个 block 没有占满，其它空间也不能存储其它文件</li>
<li>1 个文件大小是 <code>13 KB</code>，<code>13 / 4 = 3.25</code>，文件占用磁盘空间就是 4 个block 即 <code>16 KB</code></li>
</ol>
</li>
</ol>
<h1 id="九-网络命令"><a href="#九-网络命令" class="headerlink" title="九 网络命令"></a>九 网络命令</h1><h2 id="9-1-curl"><a href="#9-1-curl" class="headerlink" title="9.1 curl"></a>9.1 curl</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>crul url</code></td>
<td>访问一个网址，获取该网址的文本信息</td>
</tr>
<tr>
<td><code>curl -i url</code></td>
<td>获取该网址的文本信息以及协议头部信息</td>
</tr>
<tr>
<td><code>curl -I url</code></td>
<td>只获取请求头</td>
</tr>
<tr>
<td><code>curl -O url</code></td>
<td>下载指定资源到当前目录，名称默认，<code>--progress</code> 显示进度</td>
</tr>
<tr>
<td><code>curl -o name url</code></td>
<td>下载指定资源到当前目录，名称name，</td>
</tr>
</tbody></table>
<h2 id="9-2-wget"><a href="#9-2-wget" class="headerlink" title="9.2 wget"></a>9.2 wget</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>wget url</code></td>
<td>下载文件</td>
</tr>
<tr>
<td><code>wget -O name url</code></td>
<td>下载文件并指定名称为name</td>
</tr>
</tbody></table>
<h2 id="9-3-net-tools-amp-iproute2"><a href="#9-3-net-tools-amp-iproute2" class="headerlink" title="9.3 net-tools &amp; iproute2"></a>9.3 net-tools &amp; iproute2</h2><p><img src="https://gitee.com/3noanswer/npics/raw/master/Linux/Linux-Nettools-vs-Iproute2.webp" alt=""></p>
<h3 id="1-netstat"><a href="#1-netstat" class="headerlink" title="1 netstat"></a>1 netstat</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>netstat -lntup</code></td>
<td>查看本机监听的端口</td>
</tr>
<tr>
<td><code>netstat -an</code></td>
<td>查看本机所有的网络连接</td>
</tr>
<tr>
<td><code>netstat -rn</code></td>
<td>查看本机路由表</td>
</tr>
</tbody></table>
<h3 id="2-route"><a href="#2-route" class="headerlink" title="2 route"></a>2 route</h3><h4 id="1-查"><a href="#1-查" class="headerlink" title="1 查"></a>1 查</h4><ul>
<li><code>route [-nee]</code><ul>
<li>查看路由表信息</li>
<li><code>-n</code><ul>
<li>不使用名字而使用IP和Port</li>
</ul>
</li>
<li><code>-ee</code><ul>
<li>更详细的信息</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-增删默认路由"><a href="#2-增删默认路由" class="headerlink" title="2 增删默认路由"></a>2 增删默认路由</h4><ol>
<li><code>route add/del  default gw 网关</code></li>
<li><code>route add/del  default dev 接口</code></li>
</ol>
<h4 id="3-增删网络路由"><a href="#3-增删网络路由" class="headerlink" title="3 增删网络路由"></a>3 增删网络路由</h4><ol>
<li><code>route add/del -net 目标网络地址 netmask 子网掩码 gw 网关</code></li>
<li><code>route add/del -net 目标网络地址 netmask 子网掩码 dev 接口</code></li>
</ol>
<h4 id="4-增删主机路由"><a href="#4-增删主机路由" class="headerlink" title="4 增删主机路由"></a>4 增删主机路由</h4><ol>
<li><code>route add/del -host 目标主机地址 netmask 子网掩码 gw 网关</code></li>
<li><code>route add/del -host 目标主机地址 netmask 子网掩码 dev 接口</code></li>
</ol>
<h3 id="3-ip"><a href="#3-ip" class="headerlink" title="3 ip"></a>3 ip</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>ip addr show [eth0]</code></td>
<td>显示网卡及配置的地址信息</td>
</tr>
<tr>
<td><code>ip addr add/del IP/子网掩码 dev 网卡接口</code></td>
<td>临时添加删除IP</td>
</tr>
<tr>
<td><code>ip link set eth0 up/down</code></td>
<td>启用/禁用网卡</td>
</tr>
<tr>
<td><code>ip route show</code></td>
<td>查看策略路由，路由表 <code>/etc/iproute2/rt_tables</code></td>
</tr>
<tr>
<td><code>ip route get IP</code></td>
<td>通过IP地址查询路由包从哪条路由来</td>
</tr>
<tr>
<td><code>ip route add/del default via 网关</code></td>
<td>增删默认路由</td>
</tr>
<tr>
<td><code>ip route add/del -net 目标网络地址 netmask 子网掩码 via 网关</code></td>
<td>增删网络路由</td>
</tr>
<tr>
<td><code>ip route add/del -host 目标主机地址 netmask 子网掩码 via 网关</code></td>
<td>增删主机路由</td>
</tr>
<tr>
<td><code>ip -s link</code></td>
<td>显示所有网络接口的统计数据</td>
</tr>
<tr>
<td><code>ip -s -s link ls 网卡接口</code></td>
<td>获取一个特定网络接口的信息</td>
</tr>
</tbody></table>
<h3 id="4-ss"><a href="#4-ss" class="headerlink" title="4 ss"></a>4 ss</h3><ul>
<li><code>ss -lntup</code><ul>
<li>查看本机监听的端口</li>
</ul>
</li>
</ul>
<h1 id="十-三剑客"><a href="#十-三剑客" class="headerlink" title="十 三剑客"></a>十 三剑客</h1><h2 id="10-1-grep（print-lines-matching-a-pattern）"><a href="#10-1-grep（print-lines-matching-a-pattern）" class="headerlink" title="10.1 grep（print lines matching a pattern）"></a>10.1 grep（print lines matching a pattern）</h2><ul>
<li><code>grep [OPTION] Pattern [File]</code><ul>
<li>打印匹配行</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>-v, --invert-match</code></td>
<td>反向选择，即仅列出不匹配的行</td>
</tr>
<tr>
<td><code>-i</code>, <code>--ignore-case</code></td>
<td>忽略大小写</td>
</tr>
<tr>
<td><code>-n</code>, <code>--line-number</code></td>
<td>显示在原文件中的行号</td>
</tr>
<tr>
<td><code>-w</code>, <code>--word-regexp</code></td>
<td>单词必须完全匹配</td>
</tr>
<tr>
<td><code>-c</code>, <code>--count</code></td>
<td>统计匹配的行数</td>
</tr>
<tr>
<td><code>-o</code>, <code>--only-matching</code></td>
<td>只输出匹配内容，而非行</td>
</tr>
<tr>
<td><code>-E</code>, <code>--extended-regexp</code></td>
<td>扩展的grep，等同于 <code>egrep</code></td>
</tr>
<tr>
<td><code>-A num</code>, <code>--after-context=num</code></td>
<td>显示匹配行及其之后的 num 行</td>
</tr>
<tr>
<td><code>-B num</code>, <code>--before-context=num</code></td>
<td>显示匹配行及其之前的 num 行</td>
</tr>
<tr>
<td><code>-C num</code>, <code>num</code>, <code>--context=num</code></td>
<td>显示匹配行及其前后 num 行</td>
</tr>
</tbody></table>
<h2 id="10-2-sed（stream-editor-for-filtering-and-transforming-text）"><a href="#10-2-sed（stream-editor-for-filtering-and-transforming-text）" class="headerlink" title="10.2 sed（stream editor for filtering and transforming text）"></a>10.2 sed（stream editor for filtering and transforming text）</h2><h3 id="1-概述-1"><a href="#1-概述-1" class="headerlink" title="1 概述"></a>1 概述</h3><ol>
<li>sed 是一种几乎包括在所有 UNIX 平台的轻量级流编辑器。</li>
<li>sed主要是用来对文本数据增、删、改、查。（以<strong>行</strong>为单位）</li>
</ol>
<h3 id="2-原理"><a href="#2-原理" class="headerlink" title="2 原理"></a>2 原理</h3><ol>
<li>Sed默认并不直接修改源文件，而是将一行内容读取到内存中（模式空间 <code>pattern space</code>），然后判断内容是否符合条件，如果不符合则读取下一行，如果符合则执行相应指令。</li>
<li>所有的指令操作执行后，模式空间的内容默认输出至标准输出(即屏幕上)</li>
</ol>
<h3 id="3-语法"><a href="#3-语法" class="headerlink" title="3 语法"></a>3 语法</h3><ul>
<li><code>sed [OPTION] [address] command [File]</code><ul>
<li><code>OPTION</code><ul>
<li><code>-n</code><ul>
<li>sed 默认会完整输出所有内容</li>
<li><code>-n</code> 表示只输出经过sed命令处理的行</li>
</ul>
</li>
<li><code>-e script</code><ul>
<li>允许多个脚本指令被执行<ul>
<li><code>-e script1 -e script2</code></li>
<li><code>script1;scrpt2</code></li>
</ul>
</li>
</ul>
</li>
<li><code>-f script-file</code><ul>
<li>从文件中读取脚本指令</li>
</ul>
</li>
<li><code>-r</code><ul>
<li>识别扩展正则表达式</li>
</ul>
</li>
<li><code>-i[suffix]</code><ul>
<li>慎用，直接修改源文件（将内存中的信息覆盖到磁盘）</li>
<li>注意：<code>i</code> 和 <code>n</code> 一起使用相当于清空，因为 n 不输出内容</li>
<li><code>suffix</code><ul>
<li>代表为原文件生成一个指定后缀的备份文件</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>address</code> （默认为全文）<ul>
<li><code>-number</code><ul>
<li>指定行号number</li>
</ul>
</li>
<li><code>$</code><ul>
<li>表示最后一行</li>
</ul>
</li>
<li><code>-first~step</code><ul>
<li>指定以first开始，步长为step</li>
</ul>
</li>
<li><code>addr1,addr2</code><ul>
<li>匹配从addr1到addr2的所有行</li>
</ul>
</li>
<li><code>addr1,+N</code><ul>
<li>匹配地址1以及后面的N行</li>
</ul>
</li>
<li><code>/regexp/</code><ul>
<li>正则</li>
</ul>
</li>
</ul>
</li>
<li><code>command</code><ul>
<li><code>p</code><ul>
<li>打印</li>
</ul>
</li>
<li><code>a</code><ul>
<li>在当前行下一行添加，可以使用 <code>\n</code> 来添加多行</li>
</ul>
</li>
<li><code>i</code><ul>
<li>在当前行上一行添加，可以使用 <code>\n</code> 来添加多行</li>
</ul>
</li>
<li><code>d</code><ul>
<li>删除指定行</li>
</ul>
</li>
<li><code>c</code><ul>
<li>替换指定行</li>
</ul>
</li>
<li><code>s</code><ul>
<li>替换字符串</li>
<li><code>s/pattern/replacement/flags</code><ul>
<li><code>replacment</code><ul>
<li><code>&amp;</code><ul>
<li>代表正则所匹配的内容</li>
</ul>
</li>
<li><code>\num</code><ul>
<li>引用num组</li>
</ul>
</li>
</ul>
</li>
<li><code>flags</code><ul>
<li><code>g</code><ul>
<li>对一行中所有匹配替换（默认只替换第一个匹配）</li>
</ul>
</li>
<li><code>n</code><ul>
<li>1~512的数字，表示对一行中第n个匹配替换</li>
</ul>
</li>
<li><code>p</code><ul>
<li>打印模式空间的内容</li>
</ul>
</li>
<li><code>-w file</code><ul>
<li>将模式空间的内容写到文件file中</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="10-3-awk（pattern-scanning-and-processing-language）"><a href="#10-3-awk（pattern-scanning-and-processing-language）" class="headerlink" title="10.3 awk（pattern scanning and processing language）"></a>10.3 awk（pattern scanning and processing language）</h2><h3 id="1-概述-2"><a href="#1-概述-2" class="headerlink" title="1 概述"></a>1 概述</h3><ol>
<li><code>/usr/bin/awk -&gt; /usr/bin/gawk</code><ul>
<li><code>g</code> 代表GNU组织</li>
</ul>
</li>
<li>awk 不仅仅是强大的文本分析工具，还是一种编程语言</li>
<li>awk 主要用来分析文本（以<strong>行</strong>为单位）</li>
</ol>
<h3 id="2-原理-1"><a href="#2-原理-1" class="headerlink" title="2 原理"></a>2 原理</h3><ol>
<li>若有 <code>BEGIN</code> 代码块，则执行一次</li>
<li>awk读取一行内容，判断是否符合条件，若符合则使用相应动作进行处理，否则读取下一行。</li>
<li>若有 <code>END</code> 代码块，则执行一次</li>
</ol>
<h3 id="3-语法-1"><a href="#3-语法-1" class="headerlink" title="3 语法"></a>3 语法</h3><ul>
<li><code>awk [OPTION] BEGIN{} [patten] {action} END{} [file]</code><ul>
<li><code>OPTION</code><ul>
<li><code>-F</code><ul>
<li>指定字段（列）分隔符（默认为空格）</li>
<li>指定分隔符时有加号 <code>+</code> 表示有连续多个分隔符只算一个</li>
<li><code>-F &quot;[分隔符列表]+&quot;</code><ul>
<li>使用多个分隔符</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>BEGIN{}</code><ul>
<li>初始化代码块，只在处理数据前执行一次，可以用来修改内置变量等等</li>
</ul>
</li>
<li><code>END{}</code><ul>
<li>结尾代码块，只在处理数据后执行一次</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="1-运算符"><a href="#1-运算符" class="headerlink" title="1 运算符"></a>1 运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>?</code></td>
<td>条件表达操作符</td>
</tr>
<tr>
<td><code>&#124;&#124; && !</code></td>
<td>逻辑或 与 非</td>
</tr>
<tr>
<td><code>~</code></td>
<td>匹配，非精确比较（<code>==</code> 是精确比较）</td>
</tr>
<tr>
<td><code>!~</code></td>
<td>不匹配，非精确比较</td>
</tr>
<tr>
<td><code>+ - * / % ++ --</code></td>
<td>算术运算符</td>
</tr>
<tr>
<td><code>= += -= *= /= %=</code></td>
<td>赋值运算符</td>
</tr>
<tr>
<td><code>&lt; &lt;= &gt; &gt;= == !=</code></td>
<td>比较运算符</td>
</tr>
</tbody></table>
<h4 id="2-内置变量"><a href="#2-内置变量" class="headerlink" title="2 内置变量"></a>2 内置变量</h4><table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>FS</code></td>
<td>字段分隔符，默认为空格</td>
</tr>
<tr>
<td><code>NF</code></td>
<td>当前行字段个数，即有多少列，<code>$NF</code> 表示最后一列</td>
</tr>
<tr>
<td><code>NR</code></td>
<td>已经读取的记录数，即当前行是第几行，从1开始</td>
</tr>
<tr>
<td><code>FNR</code></td>
<td>记录总数</td>
</tr>
<tr>
<td><code>FILENAME</code></td>
<td>当前文件名</td>
</tr>
<tr>
<td><code>OFS</code></td>
<td>输出字段分隔符， 默认是空格</td>
</tr>
<tr>
<td><code>ORS</code></td>
<td>输出的记录分隔符，默认是换行符</td>
</tr>
<tr>
<td><code>RS</code></td>
<td>控制记录分隔符，默认为换行符</td>
</tr>
<tr>
<td><code>ARGC</code></td>
<td>命令行参数个数</td>
</tr>
<tr>
<td><code>ARGV</code></td>
<td>命令行参数排列</td>
</tr>
<tr>
<td><code>$0</code></td>
<td>表示整行</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>n&gt;0 代表第n列</td>
</tr>
<tr>
<td>* 自定义变量</td>
<td></td>
</tr>
<tr>
<td>* <code>awk &#39;name=&quot;zsan&quot;{print name}&#39; file</code></td>
<td></td>
</tr>
</tbody></table>
<h4 id="3-内置函数"><a href="#3-内置函数" class="headerlink" title="3 内置函数"></a>3 内置函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>gsub(r,s)</code></td>
<td>在整个$0中用s替代r</td>
</tr>
<tr>
<td><code>gsub(r,s,t)</code></td>
<td>在整个t中用s替代r</td>
</tr>
<tr>
<td><code>index(s,t)</code></td>
<td>返回s中字符串t的第一位置</td>
</tr>
<tr>
<td><code>length(s)</code></td>
<td>返回s长度</td>
</tr>
<tr>
<td><code>match(s,r)</code></td>
<td>测试s是否包含匹配r的字符串</td>
</tr>
<tr>
<td><code>split(s,a,fs)</code></td>
<td>在fs上将s分成序列a</td>
</tr>
<tr>
<td><code>sprint(fmt,exp)</code></td>
<td>返回经fmt格式化后的exp</td>
</tr>
<tr>
<td><code>sub(r,s)</code></td>
<td>用$0中最左边最长的子串代替s</td>
</tr>
<tr>
<td><code>substr(s,p)</code></td>
<td>返回字符串s中从p开始的后缀部分</td>
</tr>
<tr>
<td><code>substr(s,p,n)</code></td>
<td>返回字符串s中从p开始长度为n的后缀部分</td>
</tr>
</tbody></table>
<h4 id="4-print-amp-printf"><a href="#4-print-amp-printf" class="headerlink" title="4 print &amp; printf"></a>4 print &amp; printf</h4><ol>
<li><code>printf</code> 是标准格式输出命令，不会自动换行</li>
<li><code>print</code> 会自动添加换行符（linux 默认没有print）</li>
</ol>
<h5 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h5><ul>
<li><code>printf &#39;输出类型输出格式&#39; 输出内容</code><ul>
<li>输出类型<ul>
<li><code>%ns</code><ul>
<li>输出字符串。n是数字指输出几个字符</li>
</ul>
</li>
<li><code>%ni</code><ul>
<li>输出整数。n是数字指输出几个数字</li>
</ul>
</li>
<li><code>%m.nf</code><ul>
<li>输出浮点数。m和n是数字，指输出总位数(m)和小数位数(n)</li>
</ul>
</li>
</ul>
</li>
<li>输出格式<ul>
<li><code>\r</code></li>
<li><code>\n</code></li>
<li><code>\t</code><ul>
<li>水平tab</li>
</ul>
</li>
<li><code>\v</code><ul>
<li>垂直tab</li>
</ul>
</li>
<li><code>\b</code><ul>
<li>退格Backspaced</li>
</ul>
</li>
<li><code>\f</code><ul>
<li>清屏</li>
</ul>
</li>
<li><code>\a</code><ul>
<li>输出警告声音</li>
</ul>
</li>
</ul>
</li>
<li>输出内容<ul>
<li><code>$()</code><ul>
<li>使用命令获取内容</li>
<li>不能直接用文件，管道符也不行</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="print"><a href="#print" class="headerlink" title="print"></a>print</h5><ul>
<li><code>print 输出内容</code><ul>
<li>输出内容如果用逗号隔开则代表显示结果使用空格隔开<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print &apos;a b&apos; # ab</span><br><span class="line">print &apos;a,b&apos; # a b</span><br><span class="line">print &apos;a&quot;,&quot;b&apos; # a,b</span><br><span class="line">print &apos;a123b&apos; # a123b</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <div>
      
    </div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://anyeansan.github.io/anyeansan.github.io/2019/11/12/Hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/anyeansan.github.io/images/an3.jpg">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="一蓑烟雨任平生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="安₃">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/anyeansan.github.io/2019/11/12/Hexo/" class="post-title-link" itemprop="url">Hexo</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">✦</span>

              <time title="创建时间：2019-11-12 14:41:59" itemprop="dateCreated datePublished" datetime="2019-11-12T14:41:59+08:00">2019-11-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-29 10:06:32" itemprop="dateModified" datetime="2020-03-29T10:06:32+08:00">2020-03-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">☛</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/anyeansan.github.io/categories/%E6%8A%80/" itemprop="url" rel="index">
                    <span itemprop="name">技</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/anyeansan.github.io/categories/%E6%8A%80/hexo/" itemprop="url" rel="index">
                    <span itemprop="name">hexo</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一-搭建"><a href="#一-搭建" class="headerlink" title="一 搭建"></a>一 搭建</h1><h2 id="1-GitHub"><a href="#1-GitHub" class="headerlink" title="1 GitHub"></a>1 GitHub</h2><ol>
<li>注册账号</li>
<li>创建仓库，名为<code>yourname.github.io</code></li>
</ol>
<h2 id="2-Git"><a href="#2-Git" class="headerlink" title="2 Git"></a>2 Git</h2><ol>
<li>安装git及gitbash</li>
<li>配置github账号及ssh key</li>
</ol>
<h2 id="3-NodeJs"><a href="#3-NodeJs" class="headerlink" title="3 NodeJs"></a>3 NodeJs</h2><h2 id="4-Hexo"><a href="#4-Hexo" class="headerlink" title="4 Hexo"></a>4 Hexo</h2><h3 id="4-1-安装"><a href="#4-1-安装" class="headerlink" title="4.1 安装"></a>4.1 安装</h3><ul>
<li><code>npm install -g hexo</code></li>
</ul>
<h3 id="4-2-初始化"><a href="#4-2-初始化" class="headerlink" title="4.2 初始化"></a>4.2 初始化</h3><ul>
<li><code>hexo init</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">node_modules：依赖包</span><br><span class="line">public：存放生成的页面</span><br><span class="line">scaffolds：命令生成文章等的模板</span><br><span class="line">source：用命令创建的各种文章（post下为原始md文件）</span><br><span class="line">themes：主题</span><br><span class="line">_config.yml：整个博客的配置</span><br><span class="line">db.json：source解析所得到的</span><br><span class="line">package.json：项目所需模块项目的配置信息</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="4-3-root-config-yml配置deploy"><a href="#4-3-root-config-yml配置deploy" class="headerlink" title="4.3 root config.yml配置deploy"></a>4.3 root config.yml配置deploy</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:anyeansan/anyeansan.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<h1 id="二-命令"><a href="#二-命令" class="headerlink" title="二 命令"></a>二 命令</h1><h2 id="1-hexo-n"><a href="#1-hexo-n" class="headerlink" title="1 hexo n"></a>1 hexo n</h2><ul>
<li><code>hexo n xxx</code><ul>
<li>在<code>source/post</code>目录下根据<code>scaffolds/post.md</code>模板创建<code>xxx.md</code></li>
</ul>
</li>
<li><code>hexo n page xxx</code><ul>
<li>在<code>source</code>目录下根据<code>scaffolds/page.md</code>模板创建<code>xxx</code>文件夹并生成<code>index.md</code></li>
</ul>
</li>
</ul>
<h2 id="2-hexo-clean"><a href="#2-hexo-clean" class="headerlink" title="2 hexo clean"></a>2 hexo clean</h2><ul>
<li>删除根下<code>public</code>目录</li>
</ul>
<h2 id="3-hexo-g"><a href="#3-hexo-g" class="headerlink" title="3 hexo g"></a>3 hexo g</h2><ul>
<li>在根下创建<code>public</code>目录并生成静态文件</li>
<li><code>source</code>目录下的所有文件都会原样复制（除了md文件会转成html）到<code>public</code>目录</li>
</ul>
<h2 id="4-hexo-d"><a href="#4-hexo-d" class="headerlink" title="4 hexo d"></a>4 hexo d</h2><ul>
<li>部署到服务端</li>
<li><code>ERROR Deployer not found: git</code><ul>
<li>需要安装<code>npm install hexo-deployer-git --save</code></li>
</ul>
</li>
</ul>
<h2 id="5-hexo-s"><a href="#5-hexo-s" class="headerlink" title="5 hexo s"></a>5 hexo s</h2><ul>
<li>启动服务</li>
<li><code>http://localhost:4000</code></li>
</ul>
<h1 id="三-配置"><a href="#三-配置" class="headerlink" title="三 配置"></a>三 配置</h1><h2 id="1-root-config-yml"><a href="#1-root-config-yml" class="headerlink" title="1 root _config.yml"></a>1 root _config.yml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 安₃</span><br><span class="line">subtitle: 我未成名君未嫁 可能俱是不如人</span><br><span class="line">description: 一蓑烟雨任平生</span><br><span class="line">keywords:</span><br><span class="line">author: 安₃</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone:</span><br><span class="line"></span><br><span class="line"># Directory</span><br><span class="line">skip_render: README.md</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">url: https://anyeansan.github.io</span><br><span class="line">root: /anyeansan.github.io</span><br><span class="line"></span><br><span class="line"># Extensions</span><br><span class="line">theme: next</span><br><span class="line"></span><br><span class="line"># Deployment</span><br><span class="line">deploy:</span><br><span class="line">	type: git</span><br><span class="line">	repository: git@github.com:anyeansan/anyeansan.github.io.git</span><br><span class="line">	branch: master</span><br></pre></td></tr></table></figure>

<h2 id="2-本地搜索local-search"><a href="#2-本地搜索local-search" class="headerlink" title="2 本地搜索local-search"></a>2 本地搜索local-search</h2><ol>
<li><code>npm install hexo-generator-searchdb</code></li>
<li><code>root _config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">	path: search.xml</span><br><span class="line">	field: post</span><br><span class="line">	content: true</span><br><span class="line">	format: html</span><br></pre></td></tr></table></figure></li>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">		enable: true</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="3-RSS"><a href="#3-RSS" class="headerlink" title="3 RSS"></a>3 RSS</h2><ol>
<li><code>npm install hexo-generator-feed --save</code></li>
<li><code>root _config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">	type: atom</span><br><span class="line">	path: atom.xml</span><br><span class="line">	limit: 20</span><br></pre></td></tr></table></figure></li>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="4-目录编号"><a href="#4-目录编号" class="headerlink" title="4 目录编号"></a>4 目录编号</h2><ul>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">	number: true/false</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="5-文章底部标签和结束语"><a href="#5-文章底部标签和结束语" class="headerlink" title="5 文章底部标签和结束语"></a>5 文章底部标签和结束语</h2><h3 id="5-1-底部标签"><a href="#5-1-底部标签" class="headerlink" title="5.1 底部标签"></a>5.1 底部标签</h3><ul>
<li><code>next/layout/_macro/post.swig</code>中搜索<code>rel=&quot;tag</code>去掉标签或修改标签样式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rel=&quot;tag&quot;&gt; &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; &#123;&#123; tag.name &#125;&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="5-2-结束语"><a href="#5-2-结束语" class="headerlink" title="5.2 结束语"></a>5.2 结束语</h3><ol>
<li><code>next/layout/_macro</code>添加<code>passage-end-tag.swig</code>，内容如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #66ccff;font-size:14px;&quot;&gt;-------------The End&amp;nbsp;&amp;nbsp;&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;客官请自便-------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div</span><br></pre></td></tr></table></figure></li>
<li><code>next/layout/_macro/post.swig</code>在<code>post-body</code>和<code>post-footer</code>之间添加<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">	&#123;% if not is_index %&#125;</span><br><span class="line">		&#123;% include &apos;passage-end-tag.swig&apos; %&#125;</span><br><span class="line">	&#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="6-中英文"><a href="#6-中英文" class="headerlink" title="6 中英文"></a>6 中英文</h2><ul>
<li><code>next/languages/zh-CN.yml</code>酌情修改</li>
</ul>
<h2 id="7-图片"><a href="#7-图片" class="headerlink" title="7 图片"></a>7 图片</h2><h3 id="7-1-Logo"><a href="#7-1-Logo" class="headerlink" title="7.1 Logo"></a>7.1 Logo</h3><ul>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">favicon:</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="7-2-头像"><a href="#7-2-头像" class="headerlink" title="7.2 头像"></a>7.2 头像</h3><ul>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">	url: /images/lbb.png 头像</span><br><span class="line">	rounded: true 是否为圆形</span><br><span class="line">	rotated: true 是否鼠标放上去旋转</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="8-页面底部"><a href="#8-页面底部" class="headerlink" title="8 页面底部"></a>8 页面底部</h2><ul>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">footer:</span><br><span class="line">	since: 2019</span><br><span class="line">	icon:</span><br><span class="line">	copyright:</span><br><span class="line">	powered:</span><br><span class="line">	theme:</span><br><span class="line">	beian:</span><br><span class="line">	creative_commons:</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="9-menu-amp-sidebar"><a href="#9-menu-amp-sidebar" class="headerlink" title="9 menu &amp; sidebar"></a>9 menu &amp; sidebar</h2><ul>
<li><code>_config.yml</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">sidebar:</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="四-技巧"><a href="#四-技巧" class="headerlink" title="四 技巧"></a>四 技巧</h1><h2 id="1-博文不显示全部内容"><a href="#1-博文不显示全部内容" class="headerlink" title="1 博文不显示全部内容"></a>1 博文不显示全部内容</h2><ul>
<li>在合适的位置加上<code>&lt;!--more--&gt;</code>即可</li>
</ul>
<h2 id="2-创建tags和categories"><a href="#2-创建tags和categories" class="headerlink" title="2 创建tags和categories"></a>2 创建tags和categories</h2><ol>
<li><code>hexo n page tages</code></li>
<li><code>source/tages/index.md</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: tags</span><br><span class="line">date: 2019-11-12 12:46:04</span><br><span class="line">type: &quot;tags&quot;</span><br></pre></td></tr></table></figure></li>
<li>文章中使用<ul>
<li>tags为多个标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">-空格one</span><br><span class="line">-空格two</span><br><span class="line">-空格three</span><br><span class="line">-空格...</span><br><span class="line">结果为：#one #two #three #...</span><br></pre></td></tr></table></figure></li>
<li>categorys为层级<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">categorys:</span><br><span class="line">-空格爷</span><br><span class="line">-空格父</span><br><span class="line">-空格孙</span><br><span class="line">-空格...</span><br><span class="line">结果为：爷 &gt; 父 &gt; 孙 &gt;...</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="3-绑定域名"><a href="#3-绑定域名" class="headerlink" title="3 绑定域名"></a>3 绑定域名</h2><h3 id="3-1-购买域名"><a href="#3-1-购买域名" class="headerlink" title="3.1 购买域名"></a>3.1 购买域名</h3><ul>
<li><a href="https://www.namesilo.com" target="_blank" rel="noopener">namesilo</a></li>
</ul>
<h3 id="3-2-设置dns"><a href="#3-2-设置dns" class="headerlink" title="3.2 设置dns"></a>3.2 设置dns</h3><ul>
<li>dns默认有四个<code>A A A CNAME</code>，只需要两个即可</li>
</ul>
<h4 id="1-A-A"><a href="#1-A-A" class="headerlink" title="1 A + A"></a>1 A + A</h4><table>
<thead>
<tr>
<th>类型</th>
<th>HOSTNAME</th>
<th>ADDRESS</th>
<th>TTL</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>空</td>
<td>ip</td>
<td>3600</td>
</tr>
<tr>
<td>A</td>
<td>www</td>
<td>ip</td>
<td>3600</td>
</tr>
<tr>
<td>* ip通过<code>ping yourname.github.io</code>获取</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="2-A-CNAME"><a href="#2-A-CNAME" class="headerlink" title="2 A + CNAME"></a>2 A + CNAME</h4><table>
<thead>
<tr>
<th>类型</th>
<th>HOSTNAME</th>
<th>ADDRESS</th>
<th>TTL</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>空</td>
<td>ip</td>
<td>3600</td>
</tr>
<tr>
<td>CNAME</td>
<td>www</td>
<td>yourname.github.io</td>
<td>3600</td>
</tr>
<tr>
<td>* 创建CNAME</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>* 在<code>source</code>目录创建<code>CNAME</code>文件，内容为你的域名</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="3-3-配置仓库"><a href="#3-3-配置仓库" class="headerlink" title="3.3 配置仓库"></a>3.3 配置仓库</h3><ul>
<li>在<code>yourname.github.io</code>仓库的<code>setting</code>中配置域名<ul>
<li><code>GitHub Pages -&gt; Custom domain</code></li>
<li>不确定是否必须0.0</li>
</ul>
</li>
</ul>
<h2 id="4-README-md"><a href="#4-README-md" class="headerlink" title="4 README.md"></a>4 README.md</h2><h3 id="4-1-原因"><a href="#4-1-原因" class="headerlink" title="4.1 原因"></a>4.1 原因</h3><ol>
<li><code>hexo g</code>会把<code>source</code>目录下的md文件(包括<code>Readme.md</code>)渲染为html文件并放到<code>public</code>目录下</li>
<li><code>hexo d</code>会把<code>public</code>目录下所有文件提交到<code>yourname.github.io</code>仓库</li>
<li>由于<code>public</code>目录下并没有<code>README.md</code>而只有<code>Readme.html</code>，所以deploy后<code>yourname.github.io</code>是没有<code>Readme.md</code>的</li>
</ol>
<h3 id="4-2-解决"><a href="#4-2-解决" class="headerlink" title="4.2 解决"></a>4.2 解决</h3><ol>
<li><code>source</code>目录下创建<code>README.md</code></li>
<li><code>root_config.yml</code><ul>
<li><code>skip_render: README.md</code></li>
</ul>
</li>
</ol>

      
    </div>

    
    
    

    <div>
      
    </div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          秘笈
        </li>
        <li class="sidebar-nav-overview">
          安₃
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="安₃"
      src="/anyeansan.github.io/images/an3.jpg">
  <p class="site-author-name" itemprop="name">安₃</p>
  <div class="site-description" itemprop="description">一蓑烟雨任平生</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/anyeansan.github.io/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">秘笈</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/anyeansan.github.io/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">门派</span></a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/anyeansan.github.io/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-star-half-full"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安₃</span>
</div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/anyeansan.github.io/lib/anime.min.js"></script>
  <script src="/anyeansan.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/anyeansan.github.io/lib/velocity/velocity.ui.min.js"></script>
<script src="/anyeansan.github.io/js/utils.js"></script><script src="/anyeansan.github.io/js/motion.js"></script>
<script src="/anyeansan.github.io/js/schemes/pisces.js"></script>
<script src="/anyeansan.github.io/js/next-boot.js"></script>



  




  <script src="/anyeansan.github.io/js/local-search.js"></script>













  

  

</body>
</html>
